use crate::app::App;
use crate::project::{Projects, Items, Fields};

mod commands;
mod project;
mod ui;
mod app;

const FIELDS: &str = r#"{"fields":[{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpE","name":"Title","type":"ProjectV2Field"},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpI","name":"Assignees","type":"ProjectV2Field"},{"id":"PVTSSF_lAHOBaITmc4AXboQzgO-mpM","name":"Status","type":"ProjectV2SingleSelectField","options":[{"id":"f75ad846","name":"Todo"},{"id":"47fc9ee4","name":"In Progress"},{"id":"63391554","name":"Polish"},{"id":"98236657","name":"Done"}]},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpQ","name":"Labels","type":"ProjectV2Field"},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpU","name":"Linked pull requests","type":"ProjectV2Field"},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpc","name":"Reviewers","type":"ProjectV2Field"},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpg","name":"Repository","type":"ProjectV2Field"},{"id":"PVTF_lAHOBaITmc4AXboQzgO-mpk","name":"Milestone","type":"ProjectV2Field"},{"id":"PVTSSF_lAHOBaITmc4AXboQzgO_tJ0","name":"Relation","type":"ProjectV2SingleSelectField","options":[{"id":"0fdd9085","name":"Bug"},{"id":"98375b4e","name":"Object-Related"},{"id":"acdc128c","name":"Map-Related"},{"id":"8dc75662","name":"Player-Related"},{"id":"7db4c501","name":"Multiplayer"}]},{"id":"PVTSSF_lAHOBaITmc4AXboQzgO_tV0","name":"Difficulty","type":"ProjectV2SingleSelectField","options":[{"id":"7af4abd5","name":"Hard"},{"id":"e54db9e9","name":"Medium"},{"id":"34812b38","name":"Easy"},{"id":"17231891","name":"Quick Change"}]},{"id":"PVTSSF_lAHOBaITmc4AXboQzgO_uOQ","name":"Priority","type":"ProjectV2SingleSelectField","options":[{"id":"6ce28fac","name":"Urgent"},{"id":"6ebf7860","name":"Top Priority"},{"id":"d9fc3b7a","name":"Mid Priority"},{"id":"589ff404","name":"Low Priority"},{"id":"d256c3b6","name":"Idea"}]}],"totalCount":11}"#;
const ITEMS: &str = r#"{"items":[{"assignees":["rhaskia"],"content":{"type":"Issue","body":"","title":"Item Grabbing","number":2,"repository":"rhaskia/Backrooms-Survival","url":"https://github.com/rhaskia/Backrooms-Survival/issues/2"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKPsEI","priority":"Mid Priority","relation":"Object-Related","repository":"https://github.com/rhaskia/Backrooms-Survival","status":"Polish","title":"Item Grabbing"},{"content":{"type":"DraftIssue","body":"","title":"Item Dropping"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKPsFs","priority":"Mid Priority","relation":"Object-Related","status":"Polish","title":"Item Dropping"},{"content":{"type":"DraftIssue","body":"","title":"Item Rotation"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKPsGA","priority":"Mid Priority","relation":"Object-Related","status":"Todo","title":"Item Rotation"},{"content":{"type":"DraftIssue","body":"","title":"Object Pooling"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKPsNA","priority":"Mid Priority","relation":"Map-Related","status":"Todo","title":"Object Pooling"},{"content":{"type":"DraftIssue","body":"","title":"Jumping"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKPtIs","priority":"Mid Priority","relation":"Player-Related","status":"Todo","title":"Jumping"},{"content":{"type":"DraftIssue","body":"","title":"Walking"},"difficulty":"Easy","id":"PVTI_lAHOBaITmc4AXboQzgKPtI4","priority":"Low Priority","relation":"Player-Related","status":"Polish","title":"Walking"},{"content":{"type":"DraftIssue","body":"","title":"Running"},"difficulty":"Easy","id":"PVTI_lAHOBaITmc4AXboQzgKPtI8","priority":"Low Priority","relation":"Player-Related","status":"Polish","title":"Running"},{"content":{"type":"DraftIssue","body":"","title":"Crouching"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKPtJA","priority":"Low Priority","relation":"Player-Related","status":"Polish","title":"Crouching"},{"content":{"type":"DraftIssue","body":"","title":"Map Loading"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKPtN0","priority":"Mid Priority","relation":"Map-Related","status":"Polish","title":"Map Loading"},{"content":{"type":"DraftIssue","body":"","title":"Map Calculations"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKPtOA","priority":"Mid Priority","relation":"Map-Related","status":"Polish","title":"Map Calculations"},{"content":{"type":"DraftIssue","body":"","title":"Lobby"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKPtQA","relation":"Multiplayer","status":"Polish","title":"Lobby"},{"content":{"type":"DraftIssue","body":"","title":"Start Menu"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKPtQk","relation":"Multiplayer","status":"Polish","title":"Start Menu"},{"content":{"type":"DraftIssue","body":"","title":"Grab UI"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKP37w","priority":"Low Priority","relation":"Object-Related","status":"In Progress","title":"Grab UI"},{"content":{"type":"DraftIssue","body":"","title":"Chunk Increase Size"},"difficulty":"Quick Change","id":"PVTI_lAHOBaITmc4AXboQzgKP38A","priority":"Low Priority","relation":"Map-Related","status":"Todo","title":"Chunk Increase Size"},{"content":{"type":"DraftIssue","body":"","title":"Movement Sync"},"id":"PVTI_lAHOBaITmc4AXboQzgKPtQs","relation":"Multiplayer","status":"Polish","title":"Movement Sync"},{"content":{"type":"DraftIssue","body":"","title":"Item Sync"},"id":"PVTI_lAHOBaITmc4AXboQzgKPtQw","relation":"Multiplayer","status":"Todo","title":"Item Sync"},{"content":{"type":"DraftIssue","body":"","title":"UI Sync"},"id":"PVTI_lAHOBaITmc4AXboQzgKZ7ZA","relation":"Object-Related","title":"UI Sync"},{"content":{"type":"DraftIssue","body":"","title":"Chunk Loading Multithreading"},"difficulty":"Hard","id":"PVTI_lAHOBaITmc4AXboQzgKkue4","priority":"Low Priority","relation":"Map-Related","status":"Todo","title":"Chunk Loading Multithreading"},{"content":{"type":"DraftIssue","body":"","title":"Game Menu"},"difficulty":"Medium","id":"PVTI_lAHOBaITmc4AXboQzgKku18","priority":"Low Priority","relation":"Player-Related","status":"In Progress","title":"Game Menu"}],"totalCount":19}"#;
const PROJECTS: &str = r#"{"projects":[{"number":2,"url":"https://github.com/users/rhaskia/projects/2","shortDescription":"","public":false,"closed":true,"template":false,"title":"@rhaskia's untitled project","id":"PVT_kwHOBaITmc4AXdY3","readme":"","items":{"totalCount":0},"fields":{"totalCount":8},"owner":{"type":"User","login":"rhaskia"}},{"number":1,"url":"https://github.com/users/rhaskia/projects/1","shortDescription":"","public":false,"closed":false,"template":false,"title":"Backrooms Survival","id":"PVT_kwHOBaITmc4AXboQ","readme":"","items":{"totalCount":19},"fields":{"totalCount":11},"owner":{"type":"User","login":"rhaskia"}}],"totalCount":2}"#;

fn main() {
    let fields = serde_json::from_str::<Fields>(FIELDS).unwrap().fields;
    let items = serde_json::from_str::<Items>(ITEMS).unwrap().items;
    let projects = serde_json::from_str::<Projects>(PROJECTS).unwrap().projects;

    let app = App::new(items, fields, projects);

    ui::draw(app).expect("UI Drawing Failed");
}